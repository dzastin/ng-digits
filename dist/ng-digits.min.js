/*! ng-digits 2019-03-19 */
angular.module("ng-digits",[]).provider("ngDigitsConfig",[function(){var a=this;this.decimalSeparator=".",this.thousandsSeparator=" ",this.decimalCount=0,this.padToDecimalCount=!1,this.maxValue=null,this.minValue=null,this.parseToNumber=!0,this.allowedLeadingZeros=!1,this.eventHandlers={},this.$get=[function(){return a}]}]),angular.module("ng-digits").provider("ngDigitsMainHelper",[function(){var a=this;this.getStringForInput=function(b,c,d){if((null===c.minValue||c.minValue<0)&&"-"===b)return"-";var b=a.getValueForModel(b,c)+"";if(isNaN(b)||null===b||""===b)return"";var e=b.split(".");if(e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,c.thousandsSeparator),b=e.join("."),b=b.replace(new RegExp(a.escapeRegex("."),"g"),c.decimalSeparator),d){var f=b.indexOf(c.decimalSeparator);if(c.padToDecimalCount){var g=c.decimalCount;if(f>-1?g=c.decimalCount-b.substr(f+1).length:b+=c.decimalSeparator,g>0)for(var h=0;h<g;h++)b+="0"}}return b},this.getValueForModel=function(b,c){var d=a._getLeadingZeros(b);b=angular.isDefined(b)?b+"":"",b=b.replace(new RegExp(a.escapeRegex(c.thousandsSeparator),"g"),""),b=b.replace(new RegExp(a.escapeRegex(c.decimalSeparator),"g"),"."),b=c.decimalCount>0?parseFloat(b,10):parseInt(b,10);var e=Math.pow(10,c.decimalCount);return b=Math.round(b*e)/e,null!==c.minValue&&b<c.minValue&&(b=null),null!==c.maxValue&&b>c.maxValue&&(b=null),c.parseToNumber||(b+="",c.allowedLeadingZeros&&(b="0"===b?d:d+b)),isNaN(b)?null:b},this._getLeadingZeros=function(a){var b="",c=!0;a+="";for(var d=0;d<a.length;d++)"0"!==a[d]&&(c=!1),c&&(b+="0");return b},this.escapeRegex=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},this.$get=[function(){return a}]}]),angular.module("ng-digits").directive("ngDigits",["ngDigitsFormatter","ngDigitsParser","ngDigitsEventHandler","ngDigitsConfig","ngDigitsMainHelper",function(a,b,c,d,e){return{scope:{ngDigits:"="},require:"ngModel",restrict:"A",link:function(f,g,h,i){var j=angular.copy(d);this._regenerateConfig=function(a){a&&angular.isObject(a)&&angular.extend(j,a)},this._regenerateConfig(f.ngDigits),f.$watch("ngDigits",this._regenerateConfig,!0),i.$formatters.push(function(b){return a.formatter(b,j,!0)}),i.$parsers.push(function(a){return b.parser(a,j,i)}),i.$viewChangeListeners.push(function(){var a=g[0].selectionStart,b=i.$viewValue.length;i.$setViewValue(e.getStringForInput(i.$viewValue,j)),i.$render();var c=b===i.$viewValue.length?a:a+1;g[0].setSelectionRange(c,c)}),g.on("paste",function(a){c.handlePaste(a,j,i,g)}),g.on("keypress",function(a){return c.handleKeyPress(a,j,i.$viewValue,this)}),g.on("blur",function(){var a=e.getStringForInput(i.$modelValue,j,!0);i.$setViewValue(a),i.$render()}),angular.isObject(j.eventHandlers)&&j.eventHandlers&&angular.forEach(j.eventHandlers,function(a,b){angular.isFunction(a)&&g.on(b,function(b){a(b,j,i,this)})})}}}]),angular.module("ng-digits").provider("ngDigitsEventHandler",["$windowProvider","ngDigitsMainHelperProvider",function(a,b){var c=this;this.handleKeyPress=function(b,d,e,f){b=b||a.$get().event;var g=angular.isUndefined(b.which)?b.keyCode:b.which,h=String.fromCharCode(g);return!(!b.metaKey&&!b.ctrlKey)||(!!/[\x00-\x1F]/.test(h)||(!c._blockFromTyping(h,d,e,f)||(b.preventDefault(),!1)))},this._blockFromTyping=function(a,d,e,f){e+="";var g=c._getPotentialViewValue(a,e,f),h=b.getValueForModel(g,d),i=g.replace(new RegExp(b.escapeRegex(d.thousandsSeparator),"g"),"").replace(new RegExp(b.escapeRegex(d.decimalSeparator),"g"),".");if(a===d.thousandsSeparator||" "===a)return!0;var j=(e.match(new RegExp(b.escapeRegex(d.decimalSeparator),"g"))||[]).length>0;if(a===d.decimalSeparator&&e.indexOf(d.decimalSeparator)&&j)return!0;var k=isNaN(a)&&a!==d.decimalSeparator,l="-"===a&&""===e;if(k&&!l)return!0;var m=d.minValue&&parseFloat(i,10)<d.minValue,n=parseFloat(i,10)<0;if(m&&null===h&&!isNaN(i)&&!n)return!1;if((null===d.minValue||d.minValue<0)&&(angular.isUndefined(e)||""===e)&&"-"===a)return!1;if(a===d.decimalSeparator&&!d.decimalCount)return!0;if(h+""!==i&&i.indexOf(".")!==i.length-1){if(i.indexOf(".")===-1)return!0;var o=i.split(".")[1],p=!0;if(angular.forEach(o,function(a){"0"!==a&&(p=!1)}),!p)return!0;if(p&&o&&o.length>d.decimalCount)return!0}return!1},this._getPotentialViewValue=function(a,b,c){c.selectionEnd-c.selectionStart>0&&(b=b.substr(0,c.selectionStart)+b.substr(c.selectionEnd));var d=b.split("");return d.splice(c.selectionStart,0,a),d.join("")},this.handlePaste=function(a,c,d,e){e=e[0];var f=a.clipboardData;!f&&a.originalEvent&&(f=a.originalEvent.clipboardData);var g=f.getData("Text"),h=d.$viewValue.split("");h.splice(e.selectionStart,e.selectionEnd-e.selectionStart);var i=h.slice(0,e.selectionStart).join(""),j=h.slice(e.selectionStart).join(""),k=i+g+j;d.$setViewValue(b.getStringForInput(k,c)),d.$render();var l=(i+g).length+1;e.setSelectionRange(l,l),a.preventDefault()},this.$get=[function(){return c}]}]),angular.module("ng-digits").provider("ngDigitsFormatter",["ngDigitsMainHelperProvider",function(a){var b=this;this.formatter=function(b,c,d){return a.getStringForInput(b,c,d)},this.$get=[function(){return b}]}]),angular.module("ng-digits").provider("ngDigitsParser",["ngDigitsMainHelperProvider",function(a){var b=this;this.parser=function(b,c,d){var e=angular.copy(c);e.maxValue=null,e.parseToNumber=!0;var f=a.getValueForModel(b,e);return null!==c.maxValue&&parseFloat(f)>c.maxValue?d.$modelValue:a.getValueForModel(b,c)},this.$get=[function(){return b}]}]);