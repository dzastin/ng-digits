/*! ng-digits 2017-03-18 */
angular.module("ng-digits",[]).provider("ngDigitsConfig",[function(){var a=this;this.decimalSeparator=".",this.thousandsSeparator=" ",this.decimalCount=0,this.maxValue=null,this.minValue=null,this.parseToNumber=!0,this.allowedLeadingZeros=!1,this.$get=[function(){return a}]}]),angular.module("ng-digits").provider("ngDigitsMainHelper",[function(){var a=this;this.getStringForInput=function(b,c){var b=a.getValueForModel(b,c)+"";if(isNaN(b)||null===b||""===b)return"";var d=b.split(".");return d[0]=d[0].replace(/\B(?=(\d{3})+(?!\d))/g,c.thousandsSeparator),b=d.join("."),b=b.replace(new RegExp(a.escapeRegex("."),"g"),c.decimalSeparator)},this.getValueForModel=function(b,c){if(b=angular.isDefined(b)?b+"":"",b=b.replace(new RegExp(a.escapeRegex(c.thousandsSeparator),"g"),""),b=b.replace(new RegExp(a.escapeRegex(c.decimalSeparator),"g"),"."),c.parseToNumber){b=c.decimalCount>0?parseFloat(b,10):parseInt(b,10);var d=Math.pow(10,c.decimalCount);b=Math.round(b*d)/d}return isNaN(b)?null:b},this.escapeRegex=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},this.$get=[function(){return a}]}]),angular.module("ng-digits").directive("ngDigits",["ngDigitsFormatter","ngDigitsParser","ngDigitsEventHandler","ngDigitsConfig","ngDigitsMainHelper",function(a,b,c,d,e){return{scope:{ngDigits:"="},require:"ngModel",restrict:"A",link:function(f,g,h,i){var j=angular.copy(d);angular.isObject(f.ngDigits)&&angular.extend(j,f.ngDigits),i.$formatters.push(function(b){return a.formatter(b,j)}),i.$parsers.push(function(a){return b.parser(a,j)}),i.$viewChangeListeners.push(function(){var a=g[0].selectionStart,b=i.$viewValue.length;i.$setViewValue(e.getStringForInput(i.$viewValue,j)),i.$render();var c=b===i.$viewValue.length?a:a+1;g[0].setSelectionRange(c,c)}),g.on("keypress",function(a){return c.keyPress(a,j,i.$viewValue,this)})}}}]),angular.module("ng-digits").provider("ngDigitsEventHandler",["$windowProvider",function(a){var b=this;this.keyPress=function(c,d,e,f){c=c||a.$get().event;var g=angular.isUndefined(c.which)?c.keyCode:c.which,h=String.fromCharCode(g);return!b._blockFromTyping(h,d,e,f)||(c.preventDefault(),!1)},this._blockFromTyping=function(a,b,c,d){var e=b.decimalCount>0&&c.indexOf(b.decimalSeparator)===-1&&a===b.decimalSeparator;if(!e&&!/\d/.test(a))return!0;var f=c.split(b.decimalSeparator),g=c.indexOf(b.decimalSeparator);return f.length>1&&f[1].length>=b.decimalCount&&d.selectionStart>g},this.$get=[function(){return b}]}]),angular.module("ng-digits").provider("ngDigitsFormatter",["ngDigitsMainHelperProvider",function(a){var b=this;this.formatter=function(b,c){return a.getStringForInput(b,c)},this.$get=[function(){return b}]}]),angular.module("ng-digits").provider("ngDigitsParser",["ngDigitsMainHelperProvider",function(a){var b=this;this.parser=function(b,c){return a.getValueForModel(b,c)},this.$get=[function(){return b}]}]);