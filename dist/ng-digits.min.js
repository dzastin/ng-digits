/*! ng-digits 2017-09-03 */
angular.module("ng-digits",[]).provider("ngDigitsConfig",[function(){var a=this;this.decimalSeparator=".",this.thousandsSeparator=" ",this.decimalCount=0,this.maxValue=null,this.minValue=null,this.parseToNumber=!0,this.allowedLeadingZeros=!1,this.$get=[function(){return a}]}]),angular.module("ng-digits").provider("ngDigitsMainHelper",[function(){var a=this;this.getStringForInput=function(b,c){var b=a.getValueForModel(b,c)+"";if(isNaN(b)||null===b||""===b)return"";var d=b.split(".");return d[0]=d[0].replace(/\B(?=(\d{3})+(?!\d))/g,c.thousandsSeparator),b=d.join("."),b=b.replace(new RegExp(a.escapeRegex("."),"g"),c.decimalSeparator)},this.getValueForModel=function(b,c){var d=a._getLeadingZeros(b);b=angular.isDefined(b)?b+"":"",b=b.replace(new RegExp(a.escapeRegex(c.thousandsSeparator),"g"),""),b=b.replace(new RegExp(a.escapeRegex(c.decimalSeparator),"g"),"."),b=c.decimalCount>0?parseFloat(b,10):parseInt(b,10);var e=Math.pow(10,c.decimalCount);return b=Math.round(b*e)/e,null!==c.minValue&&b<c.minValue&&(b=c.minValue),null!==c.maxValue&&b>c.maxValue&&(b=c.maxValue),c.parseToNumber||(b+="",c.allowedLeadingZeros&&(b="0"===b?d:d+b)),isNaN(b)?null:b},this._getLeadingZeros=function(a){var b="",c=!0;a+="";for(var d=0;d<a.length;d++)"0"!==a[d]&&(c=!1),c&&(b+="0");return b},this.escapeRegex=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},this.$get=[function(){return a}]}]),angular.module("ng-digits").directive("ngDigits",["ngDigitsFormatter","ngDigitsParser","ngDigitsEventHandler","ngDigitsConfig","ngDigitsMainHelper",function(a,b,c,d,e){return{scope:{ngDigits:"="},require:"ngModel",restrict:"A",link:function(f,g,h,i){var j=angular.copy(d);angular.isObject(f.ngDigits)&&angular.extend(j,f.ngDigits),i.$formatters.push(function(b){return a.formatter(b,j,i)}),i.$parsers.push(function(a){return b.parser(a,j,i)}),i.$viewChangeListeners.push(function(){var a=g[0].selectionStart,b=i.$viewValue.length;i.$setViewValue(e.getStringForInput(i.$viewValue,j)),i.$render();var c=b===i.$viewValue.length?a:a+1;g[0].setSelectionRange(c,c)}),g.on("paste",function(a){c.handlePaste(a,j,i,g)}),g.on("keypress",function(a){return c.handleKeyPress(a,j,i.$viewValue,this)})}}}]),angular.module("ng-digits").provider("ngDigitsEventHandler",["$windowProvider","ngDigitsMainHelperProvider",function(a,b){var c=this;this.handleKeyPress=function(b,d,e,f){b=b||a.$get().event;var g=angular.isUndefined(b.which)?b.keyCode:b.which,h=String.fromCharCode(g);return!c._blockFromTyping(h,d,e,f)||(b.preventDefault(),!1)},this._blockFromTyping=function(a,d,e,f){e+="";var g=c._getPotentialViewValue(a,e,f),h=b.getValueForModel(g,d),i=g.replace(new RegExp(b.escapeRegex(d.thousandsSeparator),"g"),"").replace(new RegExp(b.escapeRegex(d.decimalSeparator),"g"),".");return a===d.thousandsSeparator||" "===a||!(d.minValue<0&&""===e&&"-"===a)&&(h+""!==i&&i.indexOf(".")!==i.length-1)},this._getPotentialViewValue=function(a,b,c){var d=b.split("");return d.splice(c.selectionStart,0,a),d.join("")},this.handlePaste=function(a,c,d,e){e=e[0];var f=a.clipboardData.getData("Text"),g=d.$viewValue.split("");g.splice(e.selectionStart,e.selectionEnd-e.selectionStart);var h=g.slice(0,e.selectionStart).join(""),i=g.slice(e.selectionStart).join(""),j=h+f+i;d.$setViewValue(b.getStringForInput(j,c)),d.$render();var k=(h+f).length+1;e.setSelectionRange(k,k),a.preventDefault()},this.$get=[function(){return c}]}]),angular.module("ng-digits").provider("ngDigitsFormatter",["ngDigitsMainHelperProvider",function(a){var b=this;this.formatter=function(b,c){return a.getStringForInput(b,c)},this.$get=[function(){return b}]}]),angular.module("ng-digits").provider("ngDigitsParser",["ngDigitsMainHelperProvider",function(a){var b=this;this.parser=function(b,c){return a.getValueForModel(b,c)},this.$get=[function(){return b}]}]);